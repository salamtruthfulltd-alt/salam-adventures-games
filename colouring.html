<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Artisan Coloring Book</title>
  <style>
    :root { --ink: #1a1a1a; --canvas: #fff; --panel: #f8f9fa; --accent: #6366f1; }
    body { margin: 0; font-family: 'Segoe UI', Tahoma, sans-serif; background: #e2e8f0; height: 100vh; overflow: hidden; display: flex; flex-direction: column; }
    
    /* Header */
    header { background: #fff; padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 15px rgba(0,0,0,0.1); z-index: 50; }
    .logo { font-size: 1.5rem; font-weight: 800; color: var(--ink); letter-spacing: -1px; }

    /* Main Area */
    main { flex: 1; position: relative; display: flex; align-items: center; justify-content: center; overflow: hidden; }
    
    /* Gallery Grid */
    .gallery { position: absolute; inset: 0; background: #f1f5f9; z-index: 40; padding: 2rem; display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.5rem; overflow-y: auto; transition: 0.5s ease-in-out; }
    .gallery.hide { transform: translateY(-100%); pointer-events: none; }
    .card { background: #fff; border-radius: 12px; border: 3px solid transparent; cursor: pointer; transition: 0.3s; overflow: hidden; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
    .card:hover { border-color: var(--accent); transform: translateY(-5px); }
    .card svg { width: 100%; height: 220px; padding: 15px; }
    .card-info { padding: 1rem; text-align: center; font-weight: 700; border-top: 1px solid #eee; }

    /* Canvas Area */
    .art-frame { width: 90%; height: 80%; max-width: 1000px; background: #fff; border-radius: 8px; box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1); padding: 2rem; display: flex; }
    #active-svg { width: 100%; height: 100%; }

    /* Stroke Styles */
    .p { fill: #fff; stroke: var(--ink); stroke-width: 3; stroke-linecap: round; stroke-linejoin: round; transition: fill 0.15s ease; cursor: crosshair; }
    .p:hover { filter: drop-shadow(0 0 5px rgba(0,0,0,0.1)); }
    .detail { fill: none; stroke: var(--ink); stroke-width: 1.5; pointer-events: none; }

    /* Controls */
    .palette { position: absolute; bottom: 2rem; left: 50%; transform: translateX(-50%); display: flex; gap: 0.8rem; background: rgba(255,255,255,0.9); padding: 1rem; border-radius: 100px; backdrop-filter: blur(10px); box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1); }
    .swatch { width: 44px; height: 44px; border-radius: 50%; cursor: pointer; border: 4px solid #fff; transition: 0.2s; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    .swatch.active { transform: scale(1.3) translateY(-10px); border-color: var(--ink); }

    .btn { padding: 0.6rem 1.2rem; border-radius: 8px; border: none; font-weight: 600; cursor: pointer; transition: 0.2s; }
    .btn-outline { border: 2px solid #ddd; background: #fff; }
    .btn-primary { background: var(--accent); color: #fff; }
  </style>
</head>
<body>

<header>
  <div class="logo">üé® Artisan Studio</div>
  <div style="display:flex; gap:10px">
    <button class="btn btn-outline" onclick="toggleGallery()">üñºÔ∏è Change Page</button>
    <button class="btn btn-primary" onclick="window.print()">üñ®Ô∏è Print</button>
  </div>
</header>

<main>
  <div id="gallery" class="gallery"></div>
  
  <div class="art-frame">
    <div id="active-svg"></div>
  </div>

  <div class="palette" id="palette"></div>
</main>

<script>
  const COLORS = ['#ef4444', '#f59e0b', '#10b981', '#3b82f6', '#8b5cf6', '#ec4899', '#78350f', '#1f2937', '#ffffff'];
  let activeColor = COLORS[0];

  // Complex Hand-Drawn SVG Templates
  const PAGES = [
    {
      name: "The Dragon's Peak",
      data: `<svg viewBox="0 0 800 600">
        <path class="p" d="M100 500 Q 400 450 700 500 L 800 600 L 0 600 Z"/> <path class="p" d="M300 450 Q 250 250 450 250 T 600 350"/> <path class="p" d="M600 350 Q 700 350 720 280 L 750 300 L 710 370 Z"/> <path class="p" d="M450 250 Q 480 150 400 100 Q 350 100 320 180 Z"/> <path class="p" d="M350 140 Q 330 140 330 160"/> <path class="p" d="M480 260 Q 550 100 650 200 Q 600 250 480 270"/> <path class="p" d="M420 250 Q 350 100 250 200 Q 300 250 420 270"/> <path class="detail" d="M300 450 Q 310 430 330 440 M 340 420 Q 350 400 370 410"/> </svg>`
    },
    {
      name: "Enchanted Forest",
      data: `<svg viewBox="0 0 800 600">
        <path class="p" d="M350 600 Q 400 300 450 600 Z"/> <path class="p" d="M400 350 C 200 350 150 100 400 50 C 650 100 600 350 400 350"/> <path class="p" d="M400 150 C 350 150 320 100 400 80 C 480 100 450 150 400 150"/> <path class="p" d="M150 500 Q 200 450 250 500 Q 200 550 150 500"/> <path class="p" d="M600 520 Q 650 470 700 520 Q 650 570 600 520"/> <path class="detail" d="M380 500 L 380 550 M 420 480 L 420 530"/> </svg>`
    },
    {
        name: "Deep Sea Turtle",
        data: `<svg viewBox="0 0 800 600">
            <path class="p" d="M250 350 C 250 200 550 200 550 350 C 550 450 250 450 250 350"/> <path class="p" d="M280 300 C 230 280 180 320 210 380 C 230 400 280 370 280 350"/> <path class="p" d="M350 230 Q 300 150 280 230"/> <path class="p" d="M450 230 Q 500 150 520 230"/> <path class="p" d="M350 420 Q 300 500 280 420"/> <path class="p" d="M450 420 Q 500 500 520 420"/> <path class="detail" d="M350 300 L 450 300 L 480 350 L 450 400 L 350 400 L 320 350 Z"/> </svg>`
    },
    {
        name: "Robot Workshop",
        data: `<svg viewBox="0 0 800 600">
            <path class="p" d="M300 200 H 500 V 450 H 300 Z"/> <path class="p" d="M350 100 H 450 V 190 H 350 Z"/> <path class="p" d="M375 130 A 10 10 0 1 0 376 130"/> <path class="p" d="M425 130 A 10 10 0 1 0 426 130"/> <path class="p" d="M300 250 L 220 300 L 240 320 L 300 280"/> <path class="p" d="M500 250 L 580 300 L 560 320 L 500 280"/> <path class="p" d="M350 450 V 550 H 380 V 450"/> <path class="p" d="M420 450 V 550 H 450 V 450"/> <path class="detail" d="M330 230 H 470 M 330 260 H 470"/> </svg>`
    },
    {
        name: "Space Cat",
        data: `<svg viewBox="0 0 800 600">
            <path class="p" d="M300 300 A 100 100 0 1 0 500 300 A 100 100 0 1 0 300 300"/> <path class="p" d="M350 300 C 350 250 450 250 450 300 C 450 350 350 350 350 300"/> <path class="p" d="M360 270 L 350 230 L 380 260"/> <path class="p" d="M440 270 L 450 230 L 420 260"/> <path class="p" d="M100 100 Q 150 50 200 100 T 300 100"/> <path class="p" d="M600 100 L 610 130 L 640 140 L 610 150 L 600 180 L 590 150 L 560 140 L 590 130 Z"/> </svg>`
    },
    {
        name: "Gothic Castle",
        data: `<svg viewBox="0 0 800 600">
            <path class="p" d="M200 550 V 300 H 300 V 200 L 350 100 L 400 200 V 300 H 500 V 550 Z"/> <path class="p" d="M325 550 V 450 A 25 25 0 1 1 375 450 V 550 Z"/> <path class="p" d="M230 350 H 270 V 400 H 230 Z"/> <path class="p" d="M430 350 H 470 V 400 H 430 Z"/> <path class="p" d="M150 550 V 400 H 220 V 550 Z"/> <path class="p" d="M480 550 V 400 H 550 V 550 Z"/> <path class="detail" d="M200 500 H 500 M 200 450 H 500"/> </svg>`
    }
  ];

  function init() {
    const gallery = document.getElementById('gallery');
    const palette = document.getElementById('palette');

    // Build Gallery
    PAGES.forEach((page, i) => {
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `${page.data}<div class="card-info">${page.name}</div>`;
      card.onclick = () => loadPage(i);
      gallery.appendChild(card);
    });

    // Build Palette
    COLORS.forEach(c => {
      const s = document.createElement('div');
      s.className = `swatch ${c === activeColor ? 'active' : ''}`;
      s.style.backgroundColor = c;
      s.onclick = () => {
        document.querySelectorAll('.swatch').forEach(el => el.classList.remove('active'));
        s.classList.add('active');
        activeColor = c;
      }
      palette.appendChild(s);
    });

    loadPage(0);
  }

  function loadPage(index) {
    const container = document.getElementById('active-svg');
    container.innerHTML = PAGES[index].data;
    document.getElementById('gallery').classList.add('hide');

    container.querySelectorAll('.p').forEach(path => {
      path.onclick = (e) => {
        e.stopPropagation();
        path.style.fill = activeColor;
      };
    });
  }

  function toggleGallery() {
    document.getElementById('gallery').classList.remove('hide');
  }

  init();
</script>
</body>
</html>

<!DOCTYPE html>
<html>
<head>
    <title>MASTER BUILDER</title>
    <style>
        body { margin: 0; background: #020111; color: white; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; }
        #game-frame { 
            width: 550px; height: 700px; border: 10px solid #5D4037; 
            background: #000; position: relative; overflow: hidden; border-radius: 20px;
        }
        #sky { position: absolute; inset: 0; background: linear-gradient(#020111, #3a1c71); z-index: 1; }
        
        /* THE MOVING BLOCK */
        #slider { 
            position: absolute; height: 40px; background: #00f2ff; 
            box-shadow: 0 0 20px #00f2ff; z-index: 10; border: 2px solid white;
        }

        /* THE TOWER */
        .brick { 
            position: absolute; height: 40px; background: #ff00de; 
            border: 2px solid white; z-index: 5;
        }

        #ui { position: absolute; top: 20px; left: 20px; z-index: 20; font-size: 2rem; color: #ffcc00; font-weight: bold; }
        
        #menu { 
            position: absolute; inset: 0; background: rgba(0,0,0,0.9); 
            z-index: 100; display: flex; flex-direction: column; align-items: center; justify-content: center; 
        }
        button { padding: 20px 60px; font-size: 2.5rem; background: #2ecc71; color: white; border: none; border-radius: 15px; cursor: pointer; }
    </style>
</head>
<body onclick="drop()">

    <div id="ui">FLOORS: <span id="score">0</span></div>

    <div id="game-frame">
        <div id="sky"></div>
        <div id="menu">
            <h1 style="color:#ffcc00; font-size: 3rem;">MASTER BUILDER</h1>
            <p>Build the tower. Don't slip.</p>
            <button onclick="start(event)">START</button>
        </div>
        <div id="slider"></div>
        <div id="tower-container"></div>
    </div>

<script>
    let score = 0;
    let bWidth = 200;
    let bX = 0;
    let bY = 660; // Bottom
    let dir = 3;
    let active = false;
    let lastX = 175;

    const slider = document.getElementById('slider');
    const container = document.getElementById('tower-container');

    function start(e) {
        e.stopPropagation();
        score = 0;
        bWidth = 200;
        lastX = 175;
        bY = 660;
        active = true;
        document.getElementById('menu').style.display = 'none';
        container.innerHTML = `<div class="brick" style="width:200px; left:175px; top:660px; background:#333;"></div>`;
        move();
    }

    function move() {
        if(!active) return;
        bX += dir;
        if(bX + bWidth > 550 || bX < 0) dir *= -1;
        slider.style.width = bWidth + "px";
        slider.style.left = bX + "px";
        slider.style.top = (bY - 40) + "px";
        requestAnimationFrame(move);
    }

    function drop() {
        if(!active) return;

        // Check for miss
        let miss = Math.abs(bX - lastX);
        if(miss >= bWidth) {
            active = false;
            alert("TOWER COLLAPSED! Floors: " + score);
            location.reload();
            return;
        }

        // Slice logic (Simpler version: Must overlap to stay alive)
        score++;
        document.getElementById('score').innerText = score;
        
        // Add brick to tower
        let brick = document.createElement('div');
        brick.className = 'brick';
        brick.style.width = bWidth + "px";
        brick.style.left = bX + "px";
        brick.style.top = (bY - 40) + "px";
        brick.style.background = `hsl(${score * 30}, 100%, 50%)`;
        container.appendChild(brick);

        // Update for next turn
        lastX = bX;
        bY -= 40;
        dir += (dir > 0 ? 0.2 : -0.2); // Get faster

        // Scroll tower down
        if(score > 5) {
            container.style.transform = `translateY(${(score-5) * 40}px)`;
        }
    }
</script>
</body>
</html>

<!DOCTYPE html>
<html>
<head>
    <title>MASTER BUILDER</title>
    <style>
        body { margin: 0; background: #000; color: #fff; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; overflow: hidden; }
        #game { width: 500px; height: 600px; border: 5px solid #fff; position: relative; background: #111; overflow: hidden; }
        #slider { position: absolute; height: 40px; background: #00f2ff; z-index: 10; }
        .block { position: absolute; height: 40px; background: #ff00de; border: 1px solid #fff; }
        #score { font-size: 3rem; margin-bottom: 10px; }
        #menu { position: absolute; inset: 0; background: rgba(0,0,0,0.9); z-index: 20; display: flex; align-items: center; justify-content: center; }
        button { padding: 20px 50px; font-size: 2rem; background: #2ecc71; color: #fff; border: none; cursor: pointer; border-radius: 10px; }
    </style>
</head>
<body onclick="drop()">

    <div id="score">0</div>
    <div id="game">
        <div id="menu"><button onclick="start(event)">START</button></div>
        <div id="slider"></div>
        <div id="tower"></div>
    </div>

<script>
    let active = false, score = 0, bWidth = 200, bX = 0, bY = 560, lastX = 150, dir = 4;
    const slider = document.getElementById('slider');
    const tower = document.getElementById('tower');

    function start(e) {
        e.stopPropagation();
        active = true; score = 0; bWidth = 200; bX = 0; bY = 560; lastX = 150; dir = 4;
        document.getElementById('menu').style.display = 'none';
        document.getElementById('score').innerText = '0';
        tower.innerHTML = `<div class="block" style="width:200px; left:150px; top:560px; background:#444;"></div>`;
        loop();
    }

    function loop() {
        if (!active) return;
        bX += dir;
        if (bX + bWidth > 500 || bX < 0) dir *= -1;
        slider.style.width = bWidth + "px";
        slider.style.left = bX + "px";
        slider.style.top = (bY - 40) + "px";
        requestAnimationFrame(loop);
    }

    function drop() {
        if (!active) return;
        let diff = bX - lastX;
        if (Math.abs(diff) >= bWidth) {
            active = false;
            alert("GAME OVER! SCORE: " + score);
            location.reload();
            return;
        }

        // Slicing
        let slice = Math.abs(diff);
        bWidth -= slice;
        if (diff > 0) lastX = bX;

        const b = document.createElement('div');
        b.className = 'block';
        b.style.width = bWidth + "px";
        b.style.left = lastX + "px";
        b.style.top = (bY - 40) + "px";
        tower.appendChild(b);

        score++;
        document.getElementById('score').innerText = score;
        bY -= 40;
        dir += (dir > 0 ? 0.3 : -0.3);

        if (score > 6) tower.style.transform = `translateY(${(score - 6) * 40}px)`;
    }
</script>
</body>
</html>

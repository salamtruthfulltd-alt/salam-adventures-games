<!DOCTYPE html>
<html>
<head>
    <title>Spell Climb: Tower Edition</title>
    <style>
        :root { --wood: #8B4513; --stone: #555; --sky: #87CEEB; --gold: #FFD700; }
        body { background: #222; color: white; font-family: 'Comic Sans MS', cursive, sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; margin: 0; }

        /* THE CLIMBING FRAME */
        #game-container {
            position: relative;
            width: 350px;
            height: 500px;
            background: var(--sky);
            border: 12px solid var(--wood);
            border-bottom: 20px solid var(--stone);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
        }

        /* The Blocks that push you up */
        #tower-base {
            position: absolute;
            bottom: 0;
            width: 100%;
            display: flex;
            flex-direction: column-reverse;
            transition: all 0.5s ease;
        }
        .brick {
            height: 40px;
            background: #cd853f;
            border: 2px solid #8b4513;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            animation: slideIn 0.3s ease-out;
        }
        @keyframes slideIn { from { transform: translateY(50px); } to { transform: translateY(0); } }

        /* UI Elements */
        .stats { display: flex; justify-content: space-around; width: 350px; background: #333; padding: 10px; border-radius: 10px 10px 0 0; border: 2px solid var(--wood); }
        #input-area { margin-top: 15px; text-align: center; }
        input { font-size: 1.5rem; padding: 10px; width: 250px; border-radius: 10px; border: none; text-align: center; }
        
        #leaderboard { margin-top: 20px; width: 350px; max-height: 200px; overflow-y: auto; background: #fff; color: #333; border-radius: 10px; padding: 10px; }
        table { width: 100%; border-collapse: collapse; font-size: 0.8rem; }
        th { border-bottom: 2px solid #ddd; }
        .win-overlay { position: absolute; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); display:none; flex-direction:column; align-items:center; justify-content:center; z-index:10; }
    </style>
</head>
<body onload="updateBoard()">

<div class="stats">
    <div>‚è≥ <span id="time">60</span>s</div>
    <div style="color:var(--gold)">PTS: <span id="score">0</span></div>
    <div>LVL: <span id="lvl">1</span></div>
</div>

<div id="game-container">
    <div id="tower-base"></div>
    <div id="win-screen" class="win-overlay">
        <h2 style="color:var(--gold)">‚≠ê LEVEL UP ‚≠ê</h2>
        <button onclick="nextLevel()" style="padding:10px 20px; cursor:pointer;">CONTINUE CLIMB</button>
    </div>
</div>

<div id="input-area">
    <h3 id="target-word">---</h3>
    <input type="text" id="word-input" placeholder="Type here..." autocomplete="off">
</div>

<div id="leaderboard">
    <strong>üèÜ TOP 20 CLIMBERS</strong>
    <table>
        <thead><tr><th>#</th><th>NAME</th><th>SCORE</th></tr></thead>
        <tbody id="board-body"></tbody>
    </table>
</div>

<script>
    const wordList = ["Apple", "House", "Cloud", "Bread", "Smile", "Robot", "Green", "Bridge", "Forest", "Pencil", "Dragon", "Summer", "Garden", "Castle"];
    let state = { score: 0, lvl: 1, time: 60, active: false, currentWord: "", bricks: 0 };
    let clock;

    function startGame() {
        state.active = true;
        state.score = 0;
        state.bricks = 0;
        state.time = 60;
        document.getElementById('tower-base').innerHTML = "";
        document.getElementById('word-input').focus();
        if(clock) clearInterval(clock);
        clock = setInterval(tick, 1000);
        newWord();
    }

    function tick() {
        state.time--;
        document.getElementById('time').innerText = state.time;
        if(state.time <= 0) endGame();
    }

    function newWord() {
        state.currentWord = wordList[Math.floor(Math.random() * wordList.length)];
        document.getElementById('target-word').innerText = state.currentWord.toUpperCase();
        document.getElementById('word-input').value = "";
    }

    document.getElementById('word-input').addEventListener('input', (e) => {
        if(!state.active) return;
        if(e.target.value.toLowerCase() === state.currentWord.toLowerCase()) {
            addBrick();
            newWord();
        }
    });

    function addBrick() {
        state.score += 100;
        state.bricks++;
        document.getElementById('score').innerText = state.score;
        
        const b = document.createElement('div');
        b.className = 'brick';
        b.innerText = state.currentWord;
        document.getElementById('tower-base').appendChild(b);

        // CHECK IF REACHED TOP (10 Bricks = Top of frame)
        if(state.bricks >= 10) {
            state.active = false;
            document.getElementById('win-screen').style.display = 'flex';
        }
    }

    function nextLevel() {
        state.lvl++;
        state.bricks = 0;
        state.time += 15;
        document.getElementById('lvl').innerText = state.lvl;
        document.getElementById('tower-base').innerHTML = "";
        document.getElementById('win-screen').style.display = 'none';
        state.active = true;
        newWord();
    }

    function endGame() {
        state.active = false;
        clearInterval(clock);
        let name = prompt("GREAT CLIMB! Total Score: " + state.score + "\nEnter Name:");
        if(name) saveScore(name, state.score);
        location.reload();
    }

    function saveScore(name, score) {
        let scores = JSON.parse(localStorage.getItem('spell_climb_20') || '[]');
        scores.push({name: name.substring(0,12).toUpperCase(), score: score});
        scores.sort((a,b) => b.score - a.score);
        localStorage.setItem('spell_climb_20', JSON.stringify(scores.slice(0, 20)));
    }

    function updateBoard() {
        let scores = JSON.parse(localStorage.getItem('spell_climb_20') || '[]');
        document.getElementById('board-body').innerHTML = scores.map((s, i) => 
            `<tr><td>${i+1}</td><td>${s.name}</td><td>${s.score}</td></tr>`).join('');
        startGame();
    }
</script>
</body>
</html>

<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>
        body { 
            margin: 0; padding: 0; height: 100vh; 
            background: #FFFAF0; overflow: hidden; 
            font-family: sans-serif; touch-action: none;
        }
        
        /* The Big Central Area */
        #game { 
            height: 70%; width: 100%; 
            display: flex; justify-content: center; align-items: center; 
            position: relative; 
        }

        /* High-Quality Bubble */
        #bubble {
            width: 280px; height: 280px;
            border-radius: 50%;
            display: flex; justify-content: center; align-items: center;
            font-size: 140px;
            transition: all 0.2s cubic-bezier(0.17, 0.67, 0.83, 0.67);
            user-select: none;
            z-index: 10;
        }

        .bubble-on {
            background: rgba(255,255,255,0.4);
            border: 10px solid white;
            box-shadow: inset 0 0 50px rgba(255,255,255,0.9), 0 10px 30px rgba(0,0,0,0.1);
            backdrop-filter: blur(5px);
        }

        /* Huge Toddler Buttons */
        #tray { 
            height: 30%; width: 100%; 
            background: #FF69B4; 
            display: flex; justify-content: space-around; align-items: center;
            border-top: 10px solid #C71585;
            padding: 10px; box-sizing: border-box;
        }

        .btn {
            width: 30%; height: 80%;
            background: white; border: none; border-radius: 25px;
            font-size: 50px; cursor: pointer;
            box-shadow: 0 10px #C71585;
            display: flex; justify-content: center; align-items: center;
        }

        .btn:active { transform: translateY(8px); box-shadow: 0 2px #C71585; }

        /* Effects */
        .pop-star {
            position: absolute; font-size: 40px; pointer-events: none;
            animation: burst 0.6s ease-out forwards;
        }

        @keyframes burst {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: translate(var(--x), var(--y)) scale(0); opacity: 0; }
        }

        /* Helper Hand Animation */
        #hand {
            position: absolute; font-size: 60px;
            animation: pointer 1.5s infinite;
            pointer-events: none; z-index: 20;
        }
        @keyframes pointer {
            0% { transform: translateY(0); opacity: 0; }
            50% { transform: translateY(20px); opacity: 1; }
            100% { transform: translateY(0); opacity: 0; }
        }
    </style>
</head>
<body>

<div id="game">
    <div id="hand">ğŸ‘†</div>
    <div id="bubble" class="bubble-on">ğŸ˜¢</div>
</div>

<div id="tray">
    <button class="btn" id="wand-btn" onclick="tapWand()">ğŸª„</button>
    <button class="btn" id="food-btn" onclick="tapGift('ğŸ­')" style="display:none;">ğŸ­</button>
    <button class="btn" id="toy-btn" onclick="tapGift('ğŸ§¸')" style="display:none;">ğŸ§¸</button>
</div>

<script>
    let faces = ['ğŸ˜¢', 'ğŸ˜¡', 'ğŸ˜´', 'ğŸ˜¨', 'ğŸ˜‹'];
    let cur = 0;
    let popped = false;
    
    const b = document.getElementById('bubble');
    const h = document.getElementById('hand');
    const wBtn = document.getElementById('wand-btn');
    const fBtn = document.getElementById('food-btn');
    const tBtn = document.getElementById('toy-btn');

    function tapWand() {
        if(popped) return;
        popped = true;
        
        // Visual Pop
        b.classList.remove('bubble-on');
        b.innerText = 'ğŸ˜®';
        h.style.display = 'none'; // Hide helper hand
        
        // Explosion
        for(let i=0; i<10; i++) spawn('âœ¨');

        // Swap Buttons
        wBtn.style.display = 'none';
        fBtn.style.display = 'flex';
        tBtn.style.display = 'flex';
    }

    function tapGift(item) {
        if(!popped) return;
        
        b.innerText = 'ğŸ˜„';
        b.style.transform = 'scale(1.4)';
        
        for(let i=0; i<8; i++) {
            spawn(item);
            spawn('â¤ï¸');
        }

        // Reset to next emoji
        setTimeout(() => {
            cur = (cur + 1) % faces.length;
            popped = false;
            b.innerText = faces[cur];
            b.classList.add('bubble-on');
            b.style.transform = 'scale(1)';
            
            // Swap Buttons Back
            wBtn.style.display = 'flex';
            fBtn.style.display = 'none';
            tBtn.style.display = 'none';
            h.style.display = 'block'; // Show helper hand again
        }, 2000);
    }

    function spawn(symbol) {
        const s = document.createElement('div');
        s.className = 'pop-star';
        s.innerText = symbol;
        s.style.left = '50%'; s.style.top = '50%';
        s.style.setProperty('--x', (Math.random()*400 - 200) + 'px');
        s.style.setProperty('--y', (Math.random()*400 - 200) + 'px');
        document.getElementById('game').appendChild(s);
        setTimeout(() => s.remove(), 600);
    }
</script>

</body>
</html>

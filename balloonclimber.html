<!DOCTYPE html>
<html>
<head>
    <title>Skyward Stack</title>
    <style>
        body { margin: 0; background: #050510; color: white; font-family: 'Arial Black', sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; overflow: hidden; }
        
        /* THE BIG GAME BOX */
        #tower-frame {
            width: 500px; height: 600px; 
            border: 10px solid #5D4037; background: #0a0a1a;
            position: relative; display: flex; flex-direction: column;
            box-shadow: 0 0 50px #000; border-radius: 10px;
        }

        /* CITY BACKGROUND INSIDE BOX */
        #tower-frame::before {
            content: ""; position: absolute; bottom: 0; width: 100%; height: 100%;
            background: linear-gradient(to bottom, #020111 0%, #3a1c71 100%);
            z-index: 0;
        }

        #crane { height: 70px; border-bottom: 3px dashed #00f2ff; display: flex; justify-content: space-around; align-items: center; font-size: 2.5rem; color: #ffcc00; z-index: 2; position: relative; background: rgba(0,0,0,0.5); }
        #stack { flex-grow: 1; display: flex; flex-direction: column-reverse; padding: 10px; z-index: 2; position: relative; }
        
        .brick { height: 45px; margin: 2px 0; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; font-weight: bold; color: white; border: 2px solid rgba(255,255,255,0.3); animation: drop 0.2s ease-out; }
        @keyframes drop { from { transform: translateY(-500px); } to { transform: translateY(0); } }

        /* HUD & UI */
        .hud { font-size: 1.5rem; margin-bottom: 10px; color: #00f2ff; }
        #puzzle { font-size: 4rem; margin: 15px; letter-spacing: 10px; text-shadow: 0 0 15px #00f2ff; }
        input { font-size: 2rem; width: 80px; text-align: center; border: 4px solid #00f2ff; border-radius: 10px; background: #000; color: #fff; outline: none; }

        /* START SCREEN */
        #overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.9); z-index: 10; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        button { padding: 20px 50px; font-size: 2rem; background: #2ecc71; color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; }
    </style>
</head>
<body>

    <div class="hud">TIME: <span id="t">60</span> | SCORE: <span id="s">0</span> | FLOOR: <span id="f">1</span></div>

    <div id="tower-frame">
        <div id="overlay">
            <h1 style="color:#ffcc00; font-size: 3rem; margin-bottom: 20px;">SKYWARD</h1>
            <button onclick="start()">START</button>
        </div>
        <div id="crane"><span id="o1"></span><span id="o2"></span><span id="o3"></span></div>
        <div id="stack"></div>
    </div>

    <div id="puzzle">READY?</div>
    <input type="text" id="typer" maxlength="1" disabled autocomplete="off">

<script>
    const bank = [{w:"APPLE",m:"A_PLE",a:"P"},{w:"BREAD",m:"BR_AD",a:"E"},{w:"CLOUD",m:"CL_UD",a:"O"},{w:"GHOST",m:"GH_ST",a:"O"},{w:"LIGHT",m:"LI_HT",a:"G"},{w:"SNAKE",m:"SN_KE",a:"A"}];
    let score=0, time=60, floor=1, count=0, active=false, cur={};

    function start() {
        active=true; score=0; time=60; floor=1; count=0;
        document.getElementById('overlay').style.display = 'none';
        document.getElementById('typer').disabled = false;
        document.getElementById('typer').focus();
        document.getElementById('stack').innerHTML = '';
        
        let timer = setInterval(() => {
            if(!active) { clearInterval(timer); return; }
            time--;
            document.getElementById('t').innerText = time;
            if(time <= 0) { active=false; alert("Game Over! Score: " + score); location.reload(); }
        }, 1000);
        
        next();
    }

    function next() {
        cur = bank[Math.floor(Math.random()*bank.length)];
        document.getElementById('puzzle').innerText = cur.m;
        let opts = [cur.a, "X", "K"].sort(() => Math.random() - 0.5);
        document.getElementById('o1').innerText = opts[0];
        document.getElementById('o2').innerText = opts[1];
        document.getElementById('o3').innerText = opts[2];
    }

    document.getElementById('typer').addEventListener('input', (e) => {
        if(e.target.value.toUpperCase() === cur.a) {
            e.target.value = '';
            score += 100; count++;
            let b = document.createElement('div');
            b.className = 'brick';
            b.innerText = cur.w;
            b.style.background = ['#00f2ff','#ff00de','#7cfc00'][floor%3];
            document.getElementById('stack').appendChild(b);
            
            if(count >= 8) { floor++; count=0; time+=10; document.getElementById('stack').innerHTML=''; }
            document.getElementById('s').innerText = score;
            document.getElementById('f').innerText = floor;
            next();
        } else { e.target.value = ''; }
    });
</script>
</body>
</html>

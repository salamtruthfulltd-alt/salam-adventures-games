<!DOCTYPE html>
<html>
<head>
    <title>Skyward Stack: Cyber-City 20</title>
    <style>
        body { margin: 0; background: #050510; color: white; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; overflow: hidden; height: 100vh; }
        .hud { display: flex; gap: 40px; padding: 15px; background: #000; border: 2px solid #00f2ff; border-radius: 0 0 20px 20px; box-shadow: 0 0 15px #00f2ff; }
        .val { color: #00f2ff; font-weight: bold; font-size: 1.5rem; }
        
        #frame { 
            width: 500px; height: 600px; border: 10px solid #5D4037; margin-top: 10px; 
            position: relative; background: linear-gradient(#020111, #191621); overflow: hidden; 
        }
        #selection { height: 70px; border-bottom: 2px dashed #00f2ff; display: flex; justify-content: space-around; align-items: center; font-size: 2.5rem; color: #ffcc00; font-weight: bold; }
        #stack { display: flex; flex-direction: column-reverse; padding: 10px; height: 100%; }
        
        .brick { 
            height: 45px; margin: 2px 0; background: #00f2ff; border: 2px solid white; 
            border-radius: 5px; color: #000; display: flex; align-items: center; justify-content: center; 
            font-weight: bold; font-size: 1.2rem; animation: drop 0.2s ease-out;
        }
        @keyframes drop { from { transform: translateY(-500px); } to { transform: translateY(0); } }
        
        #menu { position: absolute; inset: 0; background: rgba(0,0,0,0.9); z-index: 100; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        button { padding: 20px 50px; font-size: 2rem; background: #2ecc71; color: white; border: none; border-radius: 10px; cursor: pointer; }
        
        #puzzle { font-size: 4rem; margin: 20px; font-weight: bold; letter-spacing: 10px; text-shadow: 0 0 10px #00f2ff; }
        input { font-size: 2rem; width: 300px; text-align: center; padding: 10px; border-radius: 10px; border: 3px solid #00f2ff; background: #000; color: white; }
    </style>
</head>
<body onload="drawBoard()">

    <div class="hud">
        <div>‚è≥ <span class="val" id="t">60</span></div>
        <div>‚≠ê <span class="val" id="s">0</span></div>
        <div>üèóÔ∏è <span class="val" id="f">1</span></div>
    </div>

    <div id="frame">
        <div id="menu">
            <h1 style="color:#ffcc00">SKYWARD STACK</h1>
            <button onclick="start()">START</button>
        </div>
        <div id="selection"><span id="o1"></span><span id="o2"></span><span id="o3"></span></div>
        <div id="stack"></div>
    </div>

    <div id="puzzle">READY</div>
    <input type="text" id="in" maxlength="1" disabled autocomplete="off">

    <div id="list" style="margin-top:10px; font-size:0.8rem; color:#aaa"></div>

<script>
    const words = [{w:"APPLE",m:"APP_E",a:"L"},{w:"BIRD",m:"B_RD",a:"I"},{w:"CAKE",m:"C_KE",a:"A"},{w:"DUCK",m:"D_CK",a:"U"},{w:"FISH",m:"FI_H",a:"S"},{w:"MOON",m:"M_ON",a:"O"}];
    let score=0, time=60, floor=1, count=0, active=false, cur={};

    function start() {
        active=true; score=0; time=60; floor=1; count=0;
        document.getElementById('menu').style.display='none';
        document.getElementById('in').disabled=false;
        document.getElementById('in').focus();
        document.getElementById('stack').innerHTML='';
        tick();
        next();
    }

    function tick() {
        let itv = setInterval(() => {
            if(!active) { clearInterval(itv); return; }
            time--;
            document.getElementById('t').innerText = time;
            if(time <= 0) over();
        }, 1000);
    }

    function next() {
        cur = words[Math.floor(Math.random()*words.length)];
        document.getElementById('puzzle').innerText = cur.m;
        let o = [cur.a, "X", "Z"].sort(() => Math.random()-0.5);
        document.getElementById('o1').innerText = o[0];
        document.getElementById('o2').innerText = o[1];
        document.getElementById('o3').innerText = o[2];
    }

    document.getElementById('in').addEventListener('input', (e) => {
        if(e.target.value.toUpperCase() === cur.a) {
            e.target.value = '';
            score += 100;
            count++;
            let b = document.createElement('div');
            b.className = 'brick';
            b.innerText = cur.w;
            b.style.background = ['#00f2ff','#ff00de','#7cfc00'][floor%3];
            document.getElementById('stack').appendChild(b);
            
            if(count >= 8) { floor++; count=0; time+=10; document.getElementById('stack').innerHTML=''; }
            document.getElementById('s').innerText = score;
            document.getElementById('f').innerText = floor;
            next();
        } else { e.target.value = ''; }
    });

    function over() {
        active=false;
        let n = prompt("GAME OVER! Score: " + score + "\nName:");
        if(n) {
            let s = JSON.parse(localStorage.getItem('ss20') || '[]');
            s.push({n:n.substring(0,10), s:score});
            s.sort((a,b)=>b.s-a.s);
            localStorage.setItem('ss20', JSON.stringify(s.slice(0,20)));
        }
        location.reload();
    }

    function drawBoard() {
        let s = JSON.parse(localStorage.getItem('ss20') || '[]');
        document.getElementById('list').innerHTML = "TOP 20: " + s.map(x => x.n + ":" + x.s).join(" | ");
    }
</script>
</body>
</html>

<!DOCTYPE html>
<html>
<head>
    <title>SKYWARD STACK</title>
    <style>
        body { background: #0a0a1a; color: white; font-family: sans-serif; text-align: center; margin: 0; padding: 10px; }
        .hud { font-size: 2rem; color: #00f2ff; margin-bottom: 10px; font-weight: bold; }
        /* THE BIG BOX */
        #game-box { 
            width: 550px; height: 650px; border: 10px solid #5D4037; 
            margin: 0 auto; background: #111; position: relative;
            display: flex; flex-direction: column; border-radius: 15px;
        }
        #crane { height: 80px; border-bottom: 3px dashed #00f2ff; display: flex; justify-content: space-around; align-items: center; font-size: 3rem; color: #ffcc00; }
        #stack { flex-grow: 1; display: flex; flex-direction: column-reverse; padding: 10px; overflow: hidden; }
        .brick { height: 50px; margin: 2px; border-radius: 8px; background: #00f2ff; color: #000; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 1.5rem; border: 2px solid #fff; }
        
        #ui { margin-top: 20px; }
        #puzzle { font-size: 4.5rem; font-weight: bold; letter-spacing: 12px; color: #fff; margin-bottom: 10px; }
        input { font-size: 2.5rem; width: 100px; text-align: center; border: 4px solid #00f2ff; border-radius: 10px; background: #000; color: #fff; }
        
        #overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.9); z-index: 50; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        button { padding: 25px 60px; font-size: 2.5rem; background: #2ecc71; color: white; border: none; border-radius: 15px; cursor: pointer; }
    </style>
</head>
<body onload="showBoard()">

    <div class="hud">‚è≥ <span id="time">60</span> | ‚≠ê <span id="score">0</span> | üèóÔ∏è <span id="floor">1</span></div>

    <div id="game-box">
        <div id="overlay">
            <h1 style="font-size: 3rem; color: #ffcc00;">SKYWARD STACK</h1>
            <button onclick="play()">START GAME</button>
        </div>
        <div id="crane"><span id="o1">?</span><span id="o2">?</span><span id="o3">?</span></div>
        <div id="stack"></div>
    </div>

    <div id="ui">
        <div id="puzzle">READY</div>
        <input type="text" id="typer" maxlength="1" disabled autocomplete="off">
    </div>

    <div id="board" style="margin-top:20px; color:#555; font-size: 0.9rem;"></div>

<script>
    const data = [{w:"APPLE",m:"A_PLE",a:"P"},{w:"DOG",m:"D_G",a:"O"},{w:"FISH",m:"FI_H",a:"S"},{w:"CAKE",m:"C_KE",a:"A"},{w:"MOON",m:"M_ON",a:"O"},{w:"STAR",m:"ST_R",a:"A"}];
    let s=0, t=60, f=1, count=0, active=false, cur={};

    function play() {
        active=true; s=0; t=60; f=1; count=0;
        document.getElementById('overlay').style.display='none';
        document.getElementById('typer').disabled=false;
        document.getElementById('typer').focus();
        document.getElementById('stack').innerHTML='';
        timer();
        next();
    }

    function timer() {
        let clock = setInterval(() => {
            if(!active) { clearInterval(clock); return; }
            t--;
            document.getElementById('time').innerText = t;
            if(t <= 0) end();
        }, 1000);
    }

    function next() {
        cur = data[Math.floor(Math.random()*data.length)];
        document.getElementById('puzzle').innerText = cur.m;
        let opts = [cur.a, "B", "X"].sort(() => Math.random()-0.5);
        document.getElementById('o1').innerText = opts[0];
        document.getElementById('o2').innerText = opts[1];
        document.getElementById('o3').innerText = opts[2];
    }

    document.getElementById('typer').addEventListener('input', (e) => {
        if(e.target.value.toUpperCase() === cur.a) {
            e.target.value = '';
            s += 100;
            count++;
            let b = document.createElement('div');
            b.className = 'brick';
            b.innerText = cur.w;
            b.style.backgroundColor = ['#00f2ff','#ff00de','#7cfc00','#ffea00'][f%4];
            document.getElementById('stack').appendChild(b);
            
            if(count >= 8) { f++; count=0; t+=10; document.getElementById('stack').innerHTML=''; }
            document.getElementById('score').innerText = s;
            document.getElementById('floor').innerText = f;
            next();
        } else { e.target.value = ''; }
    });

    function end() {
        active=false;
        let n = prompt("SCORE: " + s + "\nNAME:");
        if(n) {
            let list = JSON.parse(localStorage.getItem('sky20') || '[]');
            list.push({n:n, s:s});
            list.sort((a,b)=>b.s-a.s);
            localStorage.setItem('sky20', JSON.stringify(list.slice(0,20)));
        }
        location.reload();
    }

    function showBoard() {
        let list = JSON.parse(localStorage.getItem('sky20') || '[]');
        document.getElementById('board').innerText = "TOP: " + list.map(x=>x.n+":"+x.s).join(" | ");
    }
</script>
</body>
</html>

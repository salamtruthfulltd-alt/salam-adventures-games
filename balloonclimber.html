<!DOCTYPE html>
<html>
<head>
    <title>Word Climber</title>
    <style>
        body { background: #222; color: white; font-family: sans-serif; text-align: center; padding: 20px; }
        
        /* THE PROGRESS FRAME */
        #frame {
            width: 50px; height: 300px;
            border: 5px solid #8d6e63;
            background: #444;
            margin: 20px auto;
            position: relative;
            border-radius: 10px;
        }
        #fill {
            position: absolute; bottom: 0; width: 100%;
            background: #4caf50; height: 0%;
            transition: height 0.3s;
            box-shadow: 0 0 10px #4caf50;
        }

        .stats { font-size: 1.5rem; margin-bottom: 10px; color: #ffeb3b; }
        #word { font-size: 3rem; margin: 20px; color: #00e5ff; font-weight: bold; }
        input { font-size: 2rem; width: 80%; padding: 10px; border-radius: 10px; border: none; }
        
        #board { margin-top: 30px; background: white; color: black; padding: 15px; border-radius: 10px; width: 300px; margin-left: auto; margin-right: auto; text-align: left; }
        .entry { display: flex; justify-content: space-between; border-bottom: 1px solid #ddd; }
    </style>
</head>
<body onload="start()">

    <div class="stats">
        Time: <span id="t">60</span>s | Score: <span id="s">0</span>
    </div>

    <div id="frame">
        <div id="fill"></div>
    </div>

    <div id="word">TYPE: START</div>
    <input type="text" id="in" placeholder="..." autocomplete="off">

    <div id="board">
        <h3 style="text-align:center">üèÜ TOP 20</h3>
        <div id="list"></div>
    </div>

<script>
    let score = 0, time = 60, goal = 0, active = false, cur = "START";
    let words = ["CAT","DOG","SUN","FISH","TREE","CAKE","JUMP","BLUE","HOUSE","APPLE","ROBOT","STORM"];

    function start() {
        showBoard();
        document.getElementById('in').addEventListener('input', (e) => {
            if(e.target.value.toUpperCase() === cur) {
                e.target.value = "";
                hit();
            }
        });
    }

    function hit() {
        if(!active && cur === "START") {
            active = true;
            timer();
            next();
        } else if(active) {
            score += 100;
            goal += 10;
            document.getElementById('s').innerText = score;
            document.getElementById('fill').style.height = goal + "%";
            
            if(goal >= 100) {
                goal = 0;
                time += 10; // Extra time for reaching the top!
                document.getElementById('word').innerText = "üèÜ TOP REACHED!";
                setTimeout(next, 1000);
            } else {
                next();
            }
        }
    }

    function next() {
        cur = words[Math.floor(Math.random()*words.length)];
        document.getElementById('word').innerText = cur;
    }

    function timer() {
        let t = setInterval(() => {
            time--;
            document.getElementById('t').innerText = time;
            if(time <= 0) {
                clearInterval(t);
                active = false;
                let n = prompt("Game Over! Score: " + score + "\nName:");
                if(n) save(n, score);
                location.reload();
            }
        }, 1000);
    }

    function save(n, s) {
        let sc = JSON.parse(localStorage.getItem('climb20') || '[]');
        sc.push({n: n.toUpperCase().substring(0,10), s: s});
        sc.sort((a,b) => b.s - a.s);
        localStorage.setItem('climb20', JSON.stringify(sc.slice(0, 20)));
    }

    function showBoard() {
        let sc = JSON.parse(localStorage.getItem('climb20') || '[]');
        document.getElementById('list').innerHTML = sc.map((x, i) => 
            `<div class="entry"><span>${i+1}. ${x.n}</span><span>${x.s}</span></div>`).join('');
    }
</script>
</body>
</html>
